<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Hub</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .menu {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .game-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            text-align: center;
        }
        
        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 24px rgba(0,0,0,0.3);
        }
        
        .game-card h2 {
            color: #667eea;
            margin-bottom: 10px;
        }
        
        .game-card p {
            color: #666;
        }
        
        .game-screen {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }
        
        .game-screen.active {
            display: block;
        }
        
        .back-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 20px;
            font-size: 16px;
        }
        
        .back-btn:hover {
            background: #5568d3;
        }
        
        /* Math Game Styles */
        .math-setup, .math-game, .math-results {
            display: none;
        }
        
        .math-setup.active, .math-game.active, .math-results.active {
            display: block;
        }
        
        .math-question {
            font-size: 3em;
            text-align: center;
            margin: 40px 0;
            color: #333;
        }
        
        .math-input {
            display: block;
            width: 200px;
            margin: 0 auto;
            padding: 15px;
            font-size: 1.5em;
            text-align: center;
            border: 3px solid #667eea;
            border-radius: 8px;
        }
        
        .timer {
            text-align: center;
            font-size: 1.5em;
            color: #667eea;
            margin: 20px 0;
        }
        
        .progress {
            text-align: center;
            font-size: 1.2em;
            color: #666;
            margin: 10px 0;
        }
        
        /* Chess Styles */
        .chess-board {
            display: grid;
            grid-template-columns: repeat(8, 60px);
            grid-template-rows: repeat(8, 60px);
            gap: 0;
            margin: 20px auto;
            border: 3px solid #333;
            width: fit-content;
        }
        
        .chess-square {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            cursor: pointer;
        }
        
        .chess-square.light {
            background: #f0d9b5;
        }
        
        .chess-square.dark {
            background: #b58863;
        }
        
        .chess-square.selected {
            background: #7fc97f !important;
        }
        
        .chess-square.valid-move {
            background: #fff59d !important;
        }
        
        /* Tic Tac Toe Styles */
        .ttt-board {
            display: grid;
            grid-template-columns: repeat(3, 100px);
            grid-template-rows: repeat(3, 100px);
            gap: 5px;
            margin: 20px auto;
            width: fit-content;
        }
        
        .ttt-cell {
            width: 100px;
            height: 100px;
            background: #f0f0f0;
            border: 2px solid #667eea;
            font-size: 3em;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 8px;
        }
        
        .ttt-cell:hover {
            background: #e0e0e0;
        }
        
        /* Simon Says Styles */
        .simon-board {
            display: grid;
            grid-template-columns: repeat(2, 150px);
            grid-template-rows: repeat(2, 150px);
            gap: 10px;
            margin: 20px auto;
            width: fit-content;
        }
        
        .simon-btn {
            width: 150px;
            height: 150px;
            border-radius: 15px;
            border: 3px solid #333;
            cursor: pointer;
            transition: opacity 0.3s;
        }
        
        .simon-btn.red { background: #e74c3c; }
        .simon-btn.blue { background: #3498db; }
        .simon-btn.green { background: #2ecc71; }
        .simon-btn.yellow { background: #f1c40f; }
        
        .simon-btn.active {
            opacity: 1;
            filter: brightness(1.5);
        }
        
        .simon-btn:not(.active) {
            opacity: 0.6;
        }
        
        /* Memory Game Styles */
        .memory-board {
            display: grid;
            grid-template-columns: repeat(4, 100px);
            gap: 10px;
            margin: 20px auto;
            width: fit-content;
        }
        
        .memory-card {
            width: 100px;
            height: 100px;
            background: #667eea;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            color: white;
            position: relative;
        }
        
        .memory-card.flipped {
            background: white;
            border: 2px solid #667eea;
            color: #333;
        }
        
        .memory-card.matched {
            background: #2ecc71;
            cursor: default;
        }
        
        .btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
        }
        
        .btn:hover {
            background: #5568d3;
        }
        
        .game-info {
            text-align: center;
            font-size: 1.2em;
            margin: 20px 0;
            color: #333;
        }
        
        .mode-select {
            text-align: center;
            margin: 20px 0;
        }
        
        select {
            padding: 10px;
            font-size: 16px;
            border-radius: 8px;
            border: 2px solid #667eea;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéÆ Game Hub</h1>
        
        <div id="menu" class="menu">
            <div class="game-card" onclick="showGame('math')">
                <h2>üî¢ Math Speed Test</h2>
                <p>Test your multiplication skills!</p>
            </div>
            <div class="game-card" onclick="showGame('chess')">
                <h2>‚ôüÔ∏è Chess</h2>
                <p>Play against bot or 2-player</p>
            </div>
            <div class="game-card" onclick="showGame('tictactoe')">
                <h2>‚ùå‚≠ï Tic Tac Toe</h2>
                <p>Classic game, AI or 2-player</p>
            </div>
            <div class="game-card" onclick="showGame('simon')">
                <h2>üéµ Simon Says</h2>
                <p>Memory pattern game</p>
            </div>
            <div class="game-card" onclick="showGame('memory')">
                <h2>üÉè Memory Match</h2>
                <p>Find matching pairs</p>
            </div>
            <div class="game-card" onclick="showGame('reaction')">
                <h2>‚ö° Reaction Time</h2>
                <p>Test your reflexes!</p>
            </div>
        </div>
        
        <!-- Math Game -->
        <div id="math-game" class="game-screen">
            <button class="back-btn" onclick="showMenu()">‚Üê Back to Menu</button>
            <h2>Math Speed Test</h2>
            
            <div class="math-setup active">
                <p style="margin: 20px 0;">Choose your multiplication table (6-20):</p>
                <select id="table-select" style="display: block; margin: 0 auto;">
                    <option value="6">6 Times Table</option>
                    <option value="7">7 Times Table</option>
                    <option value="8">8 Times Table</option>
                    <option value="9">9 Times Table</option>
                    <option value="10">10 Times Table</option>
                    <option value="11">11 Times Table</option>
                    <option value="12">12 Times Table</option>
                    <option value="13">13 Times Table</option>
                    <option value="14">14 Times Table</option>
                    <option value="15">15 Times Table</option>
                    <option value="16">16 Times Table</option>
                    <option value="17">17 Times Table</option>
                    <option value="18">18 Times Table</option>
                    <option value="19">19 Times Table</option>
                    <option value="20">20 Times Table</option>
                </select>
                <button class="btn" onclick="startMathGame()" style="display: block; margin: 20px auto;">Start Test</button>
            </div>
            
            <div class="math-game">
                <div class="timer">Time: <span id="math-timer">0.0</span>s</div>
                <div class="progress">Question <span id="math-progress">1</span> of 20</div>
                <div class="math-question" id="math-question"></div>
                <input type="number" id="math-answer" class="math-input" placeholder="?" autocomplete="off">
            </div>
            
            <div class="math-results">
                <h3 style="text-align: center; margin: 20px 0;">Results</h3>
                <div id="math-results-content" style="text-align: center; font-size: 1.2em;"></div>
                <button class="btn" onclick="resetMath()" style="display: block; margin: 20px auto;">Try Again</button>
            </div>
        </div>
        
        <!-- Chess Game -->
        <div id="chess-game" class="game-screen">
            <button class="back-btn" onclick="showMenu()">‚Üê Back to Menu</button>
            <h2>Chess</h2>
            <div class="mode-select">
                <button class="btn" onclick="startChess('2player')">2 Player</button>
                <button class="btn" onclick="startChess('bot')">vs Bot</button>
            </div>
            <div class="game-info" id="chess-info">Select a mode to start</div>
            <div id="chess-board" class="chess-board"></div>
        </div>
        
        <!-- Tic Tac Toe -->
        <div id="tictactoe-game" class="game-screen">
            <button class="back-btn" onclick="showMenu()">‚Üê Back to Menu</button>
            <h2>Tic Tac Toe</h2>
            <div class="mode-select">
                <button class="btn" onclick="startTicTacToe('2player')">2 Player</button>
                <button class="btn" onclick="startTicTacToe('bot')">vs Bot</button>
            </div>
            <div class="game-info" id="ttt-info">Player X's turn</div>
            <div id="ttt-board" class="ttt-board"></div>
            <button class="btn" onclick="resetTicTacToe()" style="display: block; margin: 20px auto;">New Game</button>
        </div>
        
        <!-- Simon Says -->
        <div id="simon-game" class="game-screen">
            <button class="back-btn" onclick="showMenu()">‚Üê Back to Menu</button>
            <h2>Simon Says</h2>
            <div class="game-info">Level: <span id="simon-level">0</span></div>
            <div class="simon-board">
                <div class="simon-btn red" data-color="red"></div>
                <div class="simon-btn blue" data-color="blue"></div>
                <div class="simon-btn green" data-color="green"></div>
                <div class="simon-btn yellow" data-color="yellow"></div>
            </div>
            <button class="btn" onclick="startSimon()" style="display: block; margin: 20px auto;">Start Game</button>
        </div>
        
        <!-- Memory Game -->
        <div id="memory-game" class="game-screen">
            <button class="back-btn" onclick="showMenu()">‚Üê Back to Menu</button>
            <h2>Memory Match</h2>
            <div class="game-info">Moves: <span id="memory-moves">0</span> | Matches: <span id="memory-matches">0</span>/8</div>
            <div id="memory-board" class="memory-board"></div>
            <button class="btn" onclick="startMemory()" style="display: block; margin: 20px auto;">New Game</button>
        </div>
        
        <!-- Reaction Time -->
        <div id="reaction-game" class="game-screen">
            <button class="back-btn" onclick="showMenu()">‚Üê Back to Menu</button>
            <h2>Reaction Time Test</h2>
            <div id="reaction-area" style="width: 400px; height: 300px; background: #e74c3c; margin: 20px auto; border-radius: 15px; display: flex; align-items: center; justify-content: center; font-size: 1.5em; color: white; cursor: pointer; text-align: center; padding: 20px;">
                Click to start
            </div>
            <div class="game-info" id="reaction-info">Click the red box to begin</div>
            <div id="reaction-results" style="text-align: center; margin: 20px 0;"></div>
        </div>
    </div>
    
    <script>
        // Global state
        let currentGame = null;
        
        // Navigation
        function showMenu() {
            document.querySelectorAll('.game-screen').forEach(s => s.classList.remove('active'));
            document.getElementById('menu').style.display = 'grid';
        }
        
        function showGame(game) {
            document.getElementById('menu').style.display = 'none';
            document.querySelectorAll('.game-screen').forEach(s => s.classList.remove('active'));
            document.getElementById(game + '-game').classList.add('active');
            currentGame = game;
        }
        
        // Math Speed Test
        let mathState = {
            table: 6,
            currentQ: 0,
            questions: [],
            startTime: 0,
            timer: null
        };
        
        function startMathGame() {
            mathState.table = parseInt(document.getElementById('table-select').value);
            mathState.currentQ = 0;
            mathState.questions = [];
            
            for (let i = 1; i <= 20; i++) {
                mathState.questions.push({
                    num1: mathState.table,
                    num2: i,
                    answer: mathState.table * i
                });
            }
            
            document.querySelector('.math-setup').classList.remove('active');
            document.querySelector('.math-game').classList.add('active');
            
            mathState.startTime = Date.now();
            mathState.timer = setInterval(updateMathTimer, 100);
            
            showMathQuestion();
            document.getElementById('math-answer').focus();
        }
        
        function updateMathTimer() {
            const elapsed = (Date.now() - mathState.startTime) / 1000;
            document.getElementById('math-timer').textContent = elapsed.toFixed(1);
        }
        
        function showMathQuestion() {
            const q = mathState.questions[mathState.currentQ];
            document.getElementById('math-question').textContent = `${q.num1} √ó ${q.num2} = ?`;
            document.getElementById('math-progress').textContent = mathState.currentQ + 1;
            document.getElementById('math-answer').value = '';
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            const answerInput = document.getElementById('math-answer');
            answerInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    const answer = parseInt(answerInput.value);
                    const q = mathState.questions[mathState.currentQ];
                    
                    if (answer === q.answer) {
                        mathState.currentQ++;
                        if (mathState.currentQ < mathState.questions.length) {
                            showMathQuestion();
                        } else {
                            endMathGame();
                        }
                    }
                }
            });
        });
        
        function endMathGame() {
            clearInterval(mathState.timer);
            const totalTime = ((Date.now() - mathState.startTime) / 1000).toFixed(1);
            const avgTime = (totalTime / 20).toFixed(2);
            
            document.querySelector('.math-game').classList.remove('active');
            document.querySelector('.math-results').classList.add('active');
            
            document.getElementById('math-results-content').innerHTML = `
                <p>‚úÖ Complete!</p>
                <p style="margin: 15px 0;">Total Time: ${totalTime} seconds</p>
                <p>Average per question: ${avgTime} seconds</p>
            `;
        }
        
        function resetMath() {
            document.querySelector('.math-results').classList.remove('active');
            document.querySelector('.math-setup').classList.add('active');
        }
        
        // Chess Game
        let chessState = {
            board: [],
            selected: null,
            turn: 'white',
            mode: null
        };
        
        const chessPieces = {
            white: { king: '‚ôî', queen: '‚ôï', rook: '‚ôñ', bishop: '‚ôó', knight: '‚ôò', pawn: '‚ôô' },
            black: { king: '‚ôö', queen: '‚ôõ', rook: '‚ôú', bishop: '‚ôù', knight: '‚ôû', pawn: '‚ôü' }
        };
        
        function initChessBoard() {
            chessState.board = [
                ['r','n','b','q','k','b','n','r'],
                ['p','p','p','p','p','p','p','p'],
                [null,null,null,null,null,null,null,null],
                [null,null,null,null,null,null,null,null],
                [null,null,null,null,null,null,null,null],
                [null,null,null,null,null,null,null,null],
                ['P','P','P','P','P','P','P','P'],
                ['R','N','B','Q','K','B','N','R']
            ];
        }
        
        function startChess(mode) {
            chessState.mode = mode;
            chessState.turn = 'white';
            chessState.selected = null;
            initChessBoard();
            renderChessBoard();
            document.getElementById('chess-info').textContent = "White's turn";
        }
        
        function renderChessBoard() {
            const board = document.getElementById('chess-board');
            board.innerHTML = '';
            
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    const square = document.createElement('div');
                    square.className = 'chess-square ' + ((row + col) % 2 === 0 ? 'light' : 'dark');
                    square.dataset.row = row;
                    square.dataset.col = col;
                    
                    const piece = chessState.board[row][col];
                    if (piece) {
                        const color = piece === piece.toUpperCase() ? 'white' : 'black';
                        const type = getPieceType(piece);
                        square.textContent = chessPieces[color][type];
                    }
                    
                    square.onclick = () => handleChessClick(row, col);
                    board.appendChild(square);
                }
            }
        }
        
        function getPieceType(piece) {
            const map = { 'k': 'king', 'q': 'queen', 'r': 'rook', 'b': 'bishop', 'n': 'knight', 'p': 'pawn' };
            return map[piece.toLowerCase()];
        }
        
        function handleChessClick(row, col) {
            if (!chessState.mode) return;
            
            const piece = chessState.board[row][col];
            
            if (chessState.selected) {
                // Try to move
                if (isValidChessMove(chessState.selected.row, chessState.selected.col, row, col)) {
                    chessState.board[row][col] = chessState.board[chessState.selected.row][chessState.selected.col];
                    chessState.board[chessState.selected.row][chessState.selected.col] = null;
                    chessState.selected = null;
                    chessState.turn = chessState.turn === 'white' ? 'black' : 'white';
                    renderChessBoard();
                    document.getElementById('chess-info').textContent = chessState.turn === 'white' ? "White's turn" : "Black's turn";
                    
                    if (chessState.mode === 'bot' && chessState.turn === 'black') {
                        setTimeout(makeChessBotMove, 500);
                    }
                } else {
                    chessState.selected = null;
                    renderChessBoard();
                }
            } else if (piece && isPlayerPiece(piece)) {
                chessState.selected = { row, col };
                renderChessBoard();
                document.querySelector(`[data-row="${row}"][data-col="${col}"]`).classList.add('selected');
            }
        }
        
        function isPlayerPiece(piece) {
            if (chessState.turn === 'white') {
                return piece === piece.toUpperCase();
            } else {
                return piece === piece.toLowerCase();
            }
        }
        
        function isValidChessMove(r1, c1, r2, c2) {
            const piece = chessState.board[r1][c1];
            const target = chessState.board[r2][c2];
            
            // Can't capture own piece
            if (target && isPlayerPiece(target)) return false;
            
            // Basic move validation (simplified)
            const type = getPieceType(piece);
            const dr = Math.abs(r2 - r1);
            const dc = Math.abs(c2 - c1);
            
            if (type === 'pawn') {
                const dir = piece === piece.toUpperCase() ? -1 : 1;
                if (c1 === c2 && !target) {
                    return r2 === r1 + dir;
                }
            } else if (type === 'rook') {
                return (r1 === r2 || c1 === c2);
            } else if (type === 'knight') {
                return (dr === 2 && dc === 1) || (dr === 1 && dc === 2);
            } else if (type === 'bishop') {
                return dr === dc;
            } else if (type === 'queen') {
                return (r1 === r2 || c1 === c2 || dr === dc);
            } else if (type === 'king') {
                return dr <= 1 && dc <= 1;
            }
            
            return true;
        }
        
        function makeChessBotMove() {
            const moves = [];
            for (let r1 = 0; r1 < 8; r1++) {
                for (let c1 = 0; c1 < 8; c1++) {
                    const piece = chessState.board[r1][c1];
                    if (piece && piece === piece.toLowerCase()) {
                        for (let r2 = 0; r2 < 8; r2++) {
                            for (let c2 = 0; c2 < 8; c2++) {
                                if (isValidChessMove(r1, c1, r2, c2)) {
                                    moves.push({r1, c1, r2, c2});
                                }
                            }
                        }
                    }
                }
            }
            
            if (moves.length > 0) {
                const move = moves[Math.floor(Math.random() * moves.length)];
                chessState.board[move.r2][move.c2] = chessState.board[move.r1][move.c1];
                chessState.board[move.r1][move.c1] = null;
                chessState.turn = 'white';
                renderChessBoard();
                document.getElementById('chess-info').textContent = "White's turn";
            }
        }
        
        // Tic Tac Toe
        let tttState = {
            board: Array(9).fill(null),
            currentPlayer: 'X',
            mode: null,
            gameOver: false
        };
        
        function startTicTacToe(mode) {
            tttState.mode = mode;
            tttState.board = Array(9).fill(null);
            tttState.currentPlayer = 'X';
            tttState.gameOver = false;
            renderTicTacToe();
            document.getElementById('ttt-info').textContent = "Player X's turn";
        }
        
        function renderTicTacToe() {
            const board = document.getElementById('ttt-board');
            board.innerHTML = '';
            
            for (let i = 0; i < 9; i++) {
                const cell = document.createElement('div');
                cell.className = 'ttt-cell';
                cell.textContent = tttState.board[i] || '';
                cell.onclick = () => handleTttClick(i);
                board.appendChild(cell);
            }
        }
        
        function handleTttClick(index) {
            if (!tttState.mode || tttState.board[index] || tttState.gameOver) return;
            
            tttState.board[index] = tttState.currentPlayer;
            renderTicTacToe();
            
            if (checkTttWinner()) {
                document.getElementById('ttt-info').textContent = `Player ${tttState.currentPlayer} wins! üéâ`;
                tttState.gameOver = true;
                return;
            }
            
            if (!tttState.board.includes(null)) {
                document.getElementById('ttt-info').textContent = "It's a draw!";
                tttState.gameOver = true;
                return;
            }
            
            tttState.currentPlayer = tttState.currentPlayer === 'X' ? 'O' : 'X';
            document.getElementById('ttt-info').textContent = `Player ${tttState.currentPlayer}'s turn`;
            
            if (tttState.mode === 'bot' && tttState.currentPlayer === 'O') {
                setTimeout(makeTttBotMove, 500);
            }
        }
        
        function checkTttWinner() {
            const wins = [
                [0,1,2], [3,4,5], [6,7,8],
                [0,3,6], [1,4,7], [2,5,8],
                [0,4,8], [2,4,6]
            ];
            
            for (const [a, b, c] of wins) {
                if (tttState.board[a] && tttState.board[a] === tttState.board[b] && tttState.board[a] === tttState.board[c]) {
                    return true;
                }
            }
            return false;
        }
        
        function makeTttBotMove() {
            const empty = tttState.board.map((v, i) => v === null ? i : null).filter(v => v !== null);
            if (empty.length > 0 && !tttState.gameOver) {
                const move = empty[Math.floor(Math.random() * empty.length)];
                handleTttClick(move);
            }
        }
        
        function resetTicTacToe() {
            if (tttState.mode) {
                startTicTacToe(tttState.mode);
            }
        }
        
        // Simon Says
        let simonState = {
            sequence: [],
            playerSequence: [],
            level: 0,
            playing: false,
            canClick: false
        };
        
        const colors = ['red', 'blue', 'green', 'yellow'];
        
        function startSimon() {
            simonState.sequence = [];
            simonState.playerSequence = [];
            simonState.level = 0;
            simonState.playing = true;
            nextSimonLevel();
        }
        
        function nextSimonLevel() {
            simonState.level++;
            simonState.playerSequence = [];
            document.getElementById('simon-level').textContent = simonState.level;
            
            const newColor = colors[Math.floor(Math.random() * colors.length)];
            simonState.sequence.push(newColor);
            
            playSimonSequence();
        }
        
        function playSimonSequence() {
            simonState.canClick = false;
            let i = 0;
            
            const interval = setInterval(() => {
                if (i < simonState.sequence.length) {
                    flashSimonButton(simonState.sequence[i]);
                    i++;
                } else {
                    clearInterval(interval);
                    simonState.canClick = true;
                }
            }, 800);
        }
        
        function flashSimonButton(color) {
            const btn = document.querySelector(`.simon-btn[data-color="${color}"]`);
            btn.classList.add('active');
            setTimeout(() => btn.classList.remove('active'), 400);
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.simon-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    if (!simonState.canClick || !simonState.playing) return;
                    
                    const color = btn.dataset.color;
                    flashSimonButton(color);
                    simonState.playerSequence.push(color);
                    
                    const index = simonState.playerSequence.length - 1;
                    if (simonState.playerSequence[index] !== simonState.sequence[index]) {
                        simonState.playing = false;
                        simonState.canClick = false;
                        alert(`Game Over! You reached level ${simonState.level}`);
                    } else if (simonState.playerSequence.length === simonState.sequence.length) {
                        simonState.canClick = false;
                        setTimeout(nextSimonLevel, 1000);
                    }
                });
            });
        });
        
        // Memory Game
        let memoryState = {
            cards: [],
            flipped: [],
            matched: [],
            moves: 0
        };
        
        function startMemory() {
            const symbols = ['üéÆ', 'üéØ', 'üé≤', 'üé™', 'üé®', 'üé≠', 'üé∏', 'üé∫'];
            memoryState.cards = [...symbols, ...symbols].sort(() => Math.random() - 0.5);
            memoryState.flipped = [];
            memoryState.matched = [];
            memoryState.moves = 0;
            
            updateMemoryInfo();
            renderMemory();
        }
        
        function renderMemory() {
            const board = document.getElementById('memory-board');
            board.innerHTML = '';
            
            memoryState.cards.forEach((symbol, index) => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.dataset.index = index;
                
                if (memoryState.flipped.includes(index) || memoryState.matched.includes(index)) {
                    card.classList.add('flipped');
                    card.textContent = symbol;
                }
                
                if (memoryState.matched.includes(index)) {
                    card.classList.add('matched');
                }
                
                card.onclick = () => handleMemoryClick(index);
                board.appendChild(card);
            });
        }
        
        function handleMemoryClick(index) {
            if (memoryState.flipped.length === 2) return;
            if (memoryState.flipped.includes(index)) return;
            if (memoryState.matched.includes(index)) return;
            
            memoryState.flipped.push(index);
            renderMemory();
            
            if (memoryState.flipped.length === 2) {
                memoryState.moves++;
                updateMemoryInfo();
                
                const [i1, i2] = memoryState.flipped;
                if (memoryState.cards[i1] === memoryState.cards[i2]) {
                    memoryState.matched.push(i1, i2);
                    memoryState.flipped = [];
                    
                    if (memoryState.matched.length === 16) {
                        setTimeout(() => {
                            alert(`Congratulations! You won in ${memoryState.moves} moves!`);
                        }, 500);
                    }
                } else {
                    setTimeout(() => {
                        memoryState.flipped = [];
                        renderMemory();
                    }, 1000);
                }
            }
        }
        
        function updateMemoryInfo() {
            document.getElementById('memory-moves').textContent = memoryState.moves;
            document.getElementById('memory-matches').textContent = memoryState.matched.length / 2;
        }
        
        // Reaction Time Game
        let reactionState = {
            waiting: false,
            startTime: 0,
            times: []
        };
        
        document.addEventListener('DOMContentLoaded', () => {
            const area = document.getElementById('reaction-area');
            
            area.addEventListener('click', () => {
                if (reactionState.waiting) {
                    const reactionTime = Date.now() - reactionState.startTime;
                    reactionState.times.push(reactionTime);
                    
                    area.style.background = '#e74c3c';
                    area.textContent = `${reactionTime}ms`;
                    reactionState.waiting = false;
                    
                    if (reactionState.times.length < 5) {
                        document.getElementById('reaction-info').textContent = `Round ${reactionState.times.length}/5 complete. Click to continue.`;
                        setTimeout(() => {
                            area.textContent = 'Click to continue';
                        }, 1500);
                    } else {
                        const avg = Math.round(reactionState.times.reduce((a, b) => a + b) / 5);
                        document.getElementById('reaction-info').textContent = 'Test complete!';
                        document.getElementById('reaction-results').innerHTML = `
                            <h3>Your Results:</h3>
                            <p>Average reaction time: <strong>${avg}ms</strong></p>
                            <p>Best: ${Math.min(...reactionState.times)}ms</p>
                            <p>Worst: ${Math.max(...reactionState.times)}ms</p>
                            <button class="btn" onclick="resetReaction()">Try Again</button>
                        `;
                        area.style.display = 'none';
                    }
                } else if (!area.style.display || area.style.display !== 'none') {
                    startReactionRound();
                }
            });
        });
        
        function startReactionRound() {
            const area = document.getElementById('reaction-area');
            area.style.background = '#e74c3c';
            area.textContent = 'Wait for green...';
            document.getElementById('reaction-info').textContent = 'Wait for it...';
            
            const delay = Math.random() * 3000 + 1000;
            
            setTimeout(() => {
                area.style.background = '#2ecc71';
                area.textContent = 'CLICK NOW!';
                reactionState.waiting = true;
                reactionState.startTime = Date.now();
                document.getElementById('reaction-info').textContent = 'Click as fast as you can!';
            }, delay);
        }
        
        function resetReaction() {
            reactionState.times = [];
            reactionState.waiting = false;
            const area = document.getElementById('reaction-area');
            area.style.display = 'flex';
            area.style.background = '#e74c3c';
            area.textContent = 'Click to start';
            document.getElementById('reaction-info').textContent = 'Click the red box to begin';
            document.getElementById('reaction-results').innerHTML = '';
        }
